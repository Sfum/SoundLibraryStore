<app-navigation-bar></app-navigation-bar>

<div class="container margin-auto font-primary">Edit Product</div>
<form [formGroup]="productForm" (ngSubmit)="onSubmit()"
      *ngIf="(productEdit$ | async) as asyncFilterPipe">

  <label for="id">ID:</label>
  <input matInput type="text" id="id" formControlName="id" required>

  <label for="productName">Product Name:</label>
  <input matInput type="text" id="productName" formControlName="product_name" required>

  <label for="productTitle">Product Title:</label>
  <input matInput type="text" id="productTitle" formControlName="product_title" required>

  <label for="productDescription">Product Description:</label>
  <textarea id="productDescription" formControlName="product_description" required></textarea>

  <mat-form-field class="form-control">
    <mat-label> Select Brand </mat-label>
    <mat-select
      [(value)]="selectedBrandId"
      (change)="optionBrandSelected($any($event.target).value)"
      formControlName="brandId"
    >
      <mat-option
        *ngFor="let element of asyncFilterPipe"
        [value]="element.id"
      >
        {{ element.brandId }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="form-control">
    <mat-label> Select Genre </mat-label>
    <mat-select
      [(value)]="selectedGenreId"
      (change)="optionGenreSelected($any($event.target).value)"
      formControlName="genreId"
    >
      <mat-option
        *ngFor="let element of asyncFilterPipe"
        [value]="element.id"
      >
        {{ element.genreId }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <label for="productImage">Product Image URL:</label>
  <input matInput type="text" id="productImage" formControlName="product_image" required>

  <label for="productBundle">Bundle?:</label>
  <input matInput type="text" id="productBundle" formControlName="in_bundle" required>

  <button mat-raised-button [disabled]="productForm.invalid">Update Product</button>
</form>

